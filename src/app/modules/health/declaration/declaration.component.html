<div class="w-100 box-shadow">
    <!--begin::Content-->
    <div class="card card-custom">
        <div class="card-header border-0">
            <div class="card-title">
                <h3 class="card-label">Khai b√°o y t·∫ø</h3>
            </div>
        </div>
        <div class="card-body py-0 m-auto">

            <nz-alert *ngIf="isAlertSuccess"
                class="mb-5"
                nzType="success"
                nzMessage="Th√¥ng b√°o"
                nzDescription="C·∫≠p nh·∫≠t t·ªù khai th√†nh c√¥ng"
                nzShowIcon
            ></nz-alert>

            <nz-alert *ngIf="dataDetail"
                class="my-5"
                nzType="info"
                nzMessage="Th√¥ng b√°o"
                nzDescription="C·∫≠p nh·∫≠t g·∫ßn nh·∫•t l√∫c {{dataDetail?.createTime * 1000 || null | date: 'hh:mm - dd/MM/yyyy'}}"
                nzShowIcon
            ></nz-alert>

            <ng-template
                [ngTemplateOutlet]="defaultTemplate"
                [ngTemplateOutletContext]="{
                    title: 'Tri·ªáu ch·ª©ng',
                    question: 'Trong v√≤ng 14 ng√†y qua Anh/Ch·ªã c√≥ th·∫•y xu·∫•t hi·ªán d·∫•u hi·ªáu n√†o sau ƒë√¢y kh√¥ng ?',
                    formGroup: formGroup1,
                    form: form1
                }">
            </ng-template>

            <ng-template
                [ngTemplateOutlet]="defaultTemplate"
                [ngTemplateOutletContext]="{
                    title: false,
                    question: 'Trong v√≤ng 14 ng√†y qua, Anh/Ch·ªã c√≥ ti·∫øp x√∫c v·ªõi',
                    formGroup: formGroup2,
                    form: form2
                }">
            </ng-template>

            <ng-template
                [ngTemplateOutlet]="defaultTemplate"
                [ngTemplateOutletContext]="{
                    title: 'T√™n b·ªánh',
                    question: 'Hi·ªán t·∫°i Anh/Ch·ªã c√≥ c√°c b·ªánh n√†o d∆∞·ªõi ƒë√¢y',
                    formGroup: formGroup3,
                    form: form3
                }">
            </ng-template>

            <ng-template
                [ngTemplateOutlet]="defaultTemplate"
                [ngTemplateOutletContext]="{
                    title: false,
                    question: false,
                    formGroup: formGroup4,
                    form: form4
                }">
            </ng-template>

            <!-- Form 1-4 -->
            <ng-template #defaultTemplate let-formGroup="formGroup" let-form="form" let-title="title" let-question="question">
                <form [formGroup]="formGroup">
                    <p *ngIf="question"><i class="font_size_14 text-muted">{{question}}</i> <span class="text-danger ml-2">(*)</span></p>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th class="text-center"><span *ngIf="title">{{title}}</span></th>
                                <th width="100" class="text-center">C√≥</th>
                                <th width="100" class="text-center">Kh√¥ng</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let row of form; let i = index; trackBy:trackByFn">
                                <tr>
                                    <ng-container *ngIf="row?.field != 'hasF'">
                                        <td>
                                            {{row?.label}} <span class="text-danger">(*)</span>
                                        </td>
                                        <td class="text-center">
                                            <input type="radio" [value]="true" [formControlName]="row?.field" class="cursor-pointer h_15 w_15">
                                        </td>
                                        <td class="text-center">
                                            <input type="radio" [value]="false" [formControlName]="row?.field" class="cursor-pointer h_15 w_15">
                                        </td>
                                    </ng-container>
                                    <ng-container *ngIf="row?.field == 'hasF' && f(2)?.tiepXucNguoiBenh?.value == true">
                                        <td style="vertical-align: middle;">
                                            {{row?.label}} <span class="text-danger">(*)</span>
                                        </td>
                                        <td class="text-center select_42" colspan="2">
                                            <nz-select [nzOptions]="hasFOptions" formControlName="hasF"
                                                nzShowSearch nzAllowClear nzPlaceHolder="--- Ti·∫øp x√∫c v·ªõi ---" style="width: 100%;" class="text-left">
                                            </nz-select>
                                        </td>
                                    </ng-container>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </form>
            </ng-template>

            <!-- Form 5 -->
            <form [formGroup]="formGroup5" *ngIf="f(4)?.diChuyenTrongNuoc?.value">
                <div class="row mt-5">
                    <div class="col-2 ctrl_label">
                        Ph∆∞∆°ng ti·ªán ƒëi l·∫°i <span class="text-danger ml-1">(*)</span>
                    </div>
                    <div class="col-10 select_42">
                        <nz-select [nzOptions]="phuongTienOptions" formControlName="phuongTienDiChuyen"
                            nzShowSearch nzAllowClear nzPlaceHolder="Ph∆∞∆°ng ti·ªán ƒëi l·∫°i" style="width: 100%;">
                        </nz-select>
                        <div class="form-text text-danger" *ngIf="f(5)?.phuongTienDiChuyen?.errors && f(5)?.phuongTienDiChuyen?.touched">
                            <span>Ph∆∞∆°ng ti·ªán ƒëi l·∫°i l√† b·∫Øt bu·ªôc</span>
                        </div>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-2 ctrl_label">N∆°i ƒëi</div>
                    <div class="col-4 select_42">
                        <nz-select [nzOptions]="danhMucTinhOptions" formControlName="noiDi"
                            nzShowSearch nzAllowClear nzPlaceHolder="--- T·ªânh / Th√†nh ph·ªë ---" style="width: 100%;">
                        </nz-select>
                    </div>
                    <div class="col-2 ctrl_label">N∆°i ƒë·∫øn</div>
                    <div class="col-4 select_42">
                        <nz-select [nzOptions]="danhMucTinhOptions" formControlName="noiDen"
                            nzShowSearch nzAllowClear nzPlaceHolder="--- T·ªânh / Th√†nh ph·ªë ---" style="width: 100%;">
                        </nz-select>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-2 ctrl_label">ƒêi t·ª´ ng√†y</div>
                    <div class="col-4">
                        <nz-date-picker formControlName="ngayKhoiHanh" nzFormat="dd-MM-yyyy" nzPlaceHolder="ƒêi t·ª´ ng√†y" class="form-control input_42"></nz-date-picker>
                    </div>
                    <div class="col-2 ctrl_label">T·ªõi ng√†y</div>
                    <div class="col-4">
                        <nz-date-picker formControlName="ngayToi" nzFormat="dd-MM-yyyy" nzPlaceHolder="T·ªõi ng√†y" class="form-control input_42"></nz-date-picker>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-12">
                        <div class="ctrl_label">L·ªãch tr√¨nh di chuy·ªÉn</div>
                        <textarea formControlName="lichTrinhDiChuyen" placeholder="L·ªãch tr√¨nh di chuy·ªÉn" cols="30" rows="3" class="form-control pt-3 mt-1" maxlength="1000"></textarea>
                    </div>
                </div>
            </form>

            <div class="d-flex justify-content-center my-10">
                <button class="btn btn-primary font-weight-bold btn-pill w_200" (click)="onSubmit()">X√°c nh·∫≠n</button>
            </div>

            <div class="mb-5">
                <p class="m-0">Email ti·∫øp nh·∫≠n th√¥ng tin: hanhchinh@hyundai.tcmotor.vn</p>
                <p class="m-0">Ho·∫∑c ƒë·∫ßu m·ªëi ti·∫øp nh·∫≠n th√¥ng tin c·ªßa ƒê·ªôi ph·∫£n ·ª©ng nhanh Covid 19_HTV:</p>
                <p class="m-0">üî•Ph∆∞∆°ng Lan HCNS: 0903 229 144</p>
                <p class="m-0">üî•Ms. Nguy·ªát HCNS: 0912.341.021</p>
                <p class="m-0">üî•Mr. C√¥ng TTTH: 0973.319.586</p>
                <p class="m-0">üî•Ms. V√¢n DV: 0976.254.930</p>
            </div>
        </div>
    </div>
</div>